package com.company;

import java.util.Scanner;

public class Main {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Gender: ");
        String gender = scanner.next();
        gender = gender.toUpperCase();
        while( !(gender.equals("M")) && !(gender.equals("F")) ) {
            System.err.println("Please enter valid gender, M or F");
            System.err.print("Gender: ");
            gender = scanner.next();
            gender = gender.toUpperCase();
        }
        System.out.print("Age(years): ");
        double age = scanner.nextDouble();
        while(age > 12 || age <= 0){
            System.err.println("program only supports ages 12 and under");
            System.err.print("Age(years): ");
            age = scanner.nextDouble();
        }
        System.out.print("Height(cm): ");
        double height = scanner.nextDouble();
        System.out.print("Weight(kg): ");
        double weight = scanner.nextDouble();

        percentileFinder finder = new percentileFinder(); //need to instantiate this to call method
        int ageIndex = finder.getAge(age);
        //if (ageIndex == -1)
          //  System.out.println("program only supports ages 12 and under");

        if(gender.equals("M")){
            double[][] maleWeight = {
                    {8.283365, 8.495, 8.833486, 9.435279, 10.16154, 10.95466, 11.7316, 12.22766, 12.56308},
                    {10.38209, 10.64009, 11.05266, 11.78598, 12.67076, 13.63692, 14.5834, 15.18777, 15.59648},
                    {11.70137, 11.98046, 12.43132, 13.24721, 14.2578, 15.39628, 16.5494, 17.30646, 17.82797},
                    {13.16419, 13.47911, 13.99301, 14.93998, 16.14548, 17.55044, 19.02875, 20.03197, 20.73903},
                    {14.72359, 15.09371, 15.70139, 16.83356, 18.29912, 20.04348, 21.92369, 23.22723, 24.15995},
                    {16.36276, 16.79146, 17.49926, 18.83151, 20.58357, 22.712, 25.06229, 26.72807, 27.93916},
                    {18.10509, 18.5874, 19.3888, 20.91553, 22.96273, 25.51626, 28.43049, 30.56228, 32.14959},
                    {19.95594, 20.4972, 21.4019, 23.14493, 25.52607, 28.5748, 32.17478, 34.8995, 36.98338},
                    {21.90873, 22.5323, 23.57885, 25.61067, 28.42064, 32.07964, 36.49499, 39.90987, 42.56665},
                    {24.00769, 24.74766, 25.99208, 28.41613, 31.78312, 36.1864, 41.51813, 45.64872, 48.86343},
                    {26.38051, 27.27076, 28.76791, 31.68189, 35.71695, 40.95697, 47.22334, 52.00546, 55.67787},
                    {29.21053, 30.2746, 32.06052, 35.52066, 40.26828, 46.3408, 53.44304, 58.73522, 62.72072}
            };

            double[][] maleHeight = {
                    {69.832, 70.43397, 71.38046, 73.01712, 74.9213, 76.92224, 78.81202, 79.98578, 80.76602}, //1 year old
                    {79.91084, 80.72977, 81.99171, 84.10289, 86.4522, 88.80525, 90.92619, 92.19688, 93.02265}, //2 year old
                    {87.75597, 88.58366, 89.87816, 92.0968, 94.64637, 97.28875, 99.74979, 101.2615, 102.2593}, //etc
                    {94.10371, 95.07806, 96.5831, 99.11064, 101.9373, 104.7831, 107.3604, 108.9101, 109.9193},
                    {99.8565, 100.9676, 102.6723, 105.505, 108.6296, 111.7316, 114.5047, 116.1561, 117.2254},
                    {105.6183, 106.8182, 108.6614, 111.7302, 115.1238, 118.5012, 121.5277, 123.333, 124.5031},
                    {111.4638, 112.7135, 114.6436, 117.8842, 121.5072, 125.1535, 128.4547, 130.4392, 131.7314},
                    {117.0587, 118.3585, 120.3749, 123.7845, 127.632, 131.5419, 135.1144, 137.2767, 138.6906},
                    {122.0228, 123.4039, 125.5485, 129.1807, 133.2882, 137.4717, 141.3023, 143.6245, 145.1445},
                    {126.3272, 127.8132, 130.1183, 134.0161, 138.4143, 142.8835, 146.9668, 149.438, 151.0539},
                    {130.452, 132.0316, 134.4828, 138.6292, 143.3107, 148.0707, 152.4218, 155.0562, 156.7792},
                    {135.2132, 136.8751, 139.4573, 143.835, 148.7917, 153.8466, 158.4807, 161.2924, 163.1339}
            };

            //once we know which subarray, use similar method to find percentile
            double heightPercentile = finder.getPercentile(maleHeight, height, ageIndex);
            System.out.println("Your height percentile is " + heightPercentile);

            double weightPercentile = finder.getPercentile(maleWeight, weight, ageIndex);
            System.out.println("Your weight percentile is " + weightPercentile);
        }
        else {
            double[][] femaleWeight = {
                    {7.662959, 7.856916, 8.166069, 8.712513, 9.366594, 10.07431, 10.76106, 11.19625, 11.48908},
                    {9.985668, 10.21027, 10.57373, 11.23357, 12.05504, 12.98667, 13.93766, 14.56636, 15.00156},
                    {11.28, 11.54332, 11.97384, 12.77001, 13.78937, 14.98647, 16.25767, 17.12762, 17.7445},
                    {12.65132, 12.96298, 13.47689, 14.44217, 15.70817, 17.24195, 18.93166, 20.12746, 20.99619},
                    {14.20687, 14.56897, 15.16981, 16.31173, 17.83782, 19.73395, 21.88909, 23.46031, 24.62758},
                    {15.87089, 16.28977, 16.98787, 18.32549, 20.1367, 22.42763, 25.09089, 27.07573, 28.57547},
                    {17.5831, 18.07539, 18.89819, 20.48293, 22.64564, 25.40866, 28.659, 31.10804, 32.97366},
                    {19.38678, 19.97783, 20.96755, 22.8796, 25.4988, 28.85648, 32.8152, 35.79964, 38.07207},
                    {21.40589, 22.12277, 23.32471, 25.65046, 28.83984, 32.92513, 37.72376, 41.32088, 44.0448},
                    {23.77519, 24.63656, 26.08191, 28.88087, 32.71868, 37.62356, 43.35511, 47.62276, 50.83502},
                    {26.56719, 27.57298, 29.26156, 32.53364, 37.02111, 42.75111, 49.43061, 54.3879, 58.10833},
                    {29.74046, 30.86573, 32.75608, 36.42354, 41.46336, 47.91684, 55.46697, 61.0902, 65.32179}
            };

            double[][] femaleHeight = {
                    {67.66371, 68.36925, 69.44814, 71.23128, 73.18501, 75.11133, 76.82282, 77.83742, 78.49257},
                    {78.43754, 79.25982, 80.52476, 82.63524, 84.97556, 87.31121, 89.40951, 90.66355, 91.47729},
                    {86.36557, 87.26379, 88.6545, 90.99891, 93.63382, 96.30029, 98.72705, 100.1915, 101.1474},
                    {92.55748, 93.52333, 95.02528, 97.57519, 100.4681, 103.4247, 106.141, 107.7919, 108.8744},
                    {98.81735, 99.85039, 101.463, 104.2182, 107.3707, 110.6222, 113.6359, 115.4802, 116.6945},
                    {105.2323, 106.3348, 108.0599, 111.0189, 114.4226, 117.9537, 121.2452, 123.2684, 124.6042},
                    {111.3821, 112.5616, 114.4077, 117.5754, 121.221, 125.0051, 128.5345, 130.7047, 132.138},
                    {116.8555, 118.1189, 120.0935, 123.4739, 127.3522, 131.364, 135.093, 137.3798, 138.8876},
                    {121.4991, 122.8555, 124.9715, 128.5831, 132.7094, 136.9585, 140.8906, 143.2937, 144.8747},
                    {125.6144, 127.094, 129.3973, 133.3147, 137.7691, 142.3324, 146.5341, 149.092, 150.7707},
                    {130.2585, 131.9218, 134.4955, 138.83, 143.695, 148.6111, 153.079, 155.7721, 157.5288},
                    {136.8191, 138.6058, 141.3448, 145.8893, 150.8936, 155.8529, 160.2796, 162.9129, 164.6167}
            };

            //once we know which subarray, use similar method to find percentile
            double heightPercentile = finder.getPercentile(femaleHeight, height, ageIndex);
            System.out.println("Your height percentile is " + heightPercentile);

            double weightPercentile = finder.getPercentile(femaleWeight, weight, ageIndex);
            System.out.println("Your weight percentile is " + weightPercentile);
        }
    }
//Gender: F
//Age(years): 12
  //  Height(cm): 140
    //Weight(kg): 40
      //      0.5198760907504365 62.99690226876091
    //Your weight percentile is 62.99690226876091
      //      0.24049331963000867 31.012332990750217
    //Your height percentile is 31.012332990750217

}
